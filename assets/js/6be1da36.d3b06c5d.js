"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[463],{5680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>f});var a=n(6540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=l(n),g=i,f=u["".concat(p,".").concat(g)]||u[g]||m[g]||r;return n?a.createElement(f,s(s({ref:t},c),{},{components:n})):a.createElement(f,s({ref:t},c))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,s=new Array(r);s[0]=g;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:i,s[1]=o;for(var l=2;l<r;l++)s[l]=n[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},721:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var a=n(8168),i=(n(6540),n(5680));const r={sidebar_position:2},s="Quick Setup",o={unversionedId:"sesami-apps/api-reference/app-message/quick-setup",id:"sesami-apps/api-reference/app-message/quick-setup",title:"Quick Setup",description:"You can install the App Message Library in your app using the following command:",source:"@site/docs/5-sesami-apps/4-api-reference/app-message/quick-setup.md",sourceDirName:"5-sesami-apps/4-api-reference/app-message",slug:"/sesami-apps/api-reference/app-message/quick-setup",permalink:"/docs/sesami-apps/api-reference/app-message/quick-setup",draft:!1,editUrl:"https://github.com/sesamiapp/devportal/edit/master/docs/5-sesami-apps/4-api-reference/app-message/quick-setup.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/docs/sesami-apps/api-reference/installation-api"},next:{title:"Types",permalink:"/docs/sesami-apps/api-reference/app-message/types"}},p={},l=[],c={toc:l},u="wrapper";function m(e){let{components:t,...n}=e;return(0,i.yg)(u,(0,a.A)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"quick-setup"},"Quick Setup"),(0,i.yg)("p",null,"You can install the App Message Library in your app using the following command:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-markup"},"npm install @sesamiapp/app-message\n")),(0,i.yg)("p",null,"Or"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-markup"},"yarn add @sesamiapp/app-message\n")),(0,i.yg)("p",null,"Once installed, you will have a list of classes for a specific target. Each class will give you a list of functions to get needed values, actions, etc."),(0,i.yg)("p",null,"If you specified a specific route in your app for a target(you know which target you are loading), you can initialize the correct class right away:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-ts"},"import { AdminAppointmentDetails } from '@sesamiapp/app-message'\n\n// init the class\nconst Sesami = await AdminAppointmentDetails.init()\n")),(0,i.yg)("p",null,"But if you don't know where your app is loading(having a single endpoint for multiple targets), Sesami will tell your app which target it is loading in, so you have to create the target's specific object, for example:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-ts"},"import {\n  AdminAppointmentDetails,\n  ExperienceInstantBookingForm,\n  AppTarget\n} from '@sesamiapp/app-message'\n\n// getting the target from URL\nconst urlParams = new URLSearchParams(window.location.search)\nconst target = urlParams.get('target')\n\n// init the class\nlet Sesami\nswitch(target){\n  case AppTarget.ADMIN_APPOINTMENT_DETAILS_INFO:\n    Sesami = await AdminAppointmentDetails.init()\n    break\n  case AppTarget.EXPERIENCE_INSTANT_BOOKING_FORM:\n    Sesami = await ExperienceInstantBookingForm.init()\n    break\n}\n")),(0,i.yg)("p",null,"The ",(0,i.yg)("inlineCode",{parentName:"p"},"static async init()")," function will return an instance of its class. All the data you need for this target is inside this class as private attributes, and you can read them with getter functions.\nAlso, this class's methods can handle all the event listeners and actions."),(0,i.yg)("admonition",{type:"info"},(0,i.yg)("a",null,"Question: What happens if I initialize a wrong class?"),(0,i.yg)("p",null,"Answer: Basically nothing! If you initialize a class that is not meant to be there, its promise will never resolve and no instances will return. It\u2019s like calling somebody in an empty room!")),(0,i.yg)("p",null,"In the following steps, we will review all the classes in this library."),(0,i.yg)("admonition",{type:"info"},(0,i.yg)("a",null,"All the event callbacks in the Sesami App Message have a timeout(8 seconds), so if the host(Admin, Experience, etc) asks for a callback from the app, and the app does not respond to the host in the timeout duration, after the timeout the host will continue its flow."),(0,i.yg)("p",null,"Also, if the app/extension itself took a long time to load, after a timeout(16 seconds) th host will ignore it and continue its flow.")))}m.isMDXComponent=!0}}]);