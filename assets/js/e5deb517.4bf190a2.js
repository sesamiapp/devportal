"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2283],{5680:(e,a,n)=>{n.d(a,{xA:()=>p,yg:()=>c});var t=n(6540);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=t.createContext({}),m=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},p=function(e){var a=m(e.components);return t.createElement(l.Provider,{value:a},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=m(n),u=r,c=d["".concat(l,".").concat(u)]||d[u]||g[u]||i;return n?t.createElement(c,o(o({ref:a},p),{},{components:n})):t.createElement(c,o({ref:a},p))}));function c(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var m=2;m<i;m++)o[m]=n[m];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}u.displayName="MDXCreateElement"},1127:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>s,toc:()=>m});var t=n(8168),r=(n(6540),n(5680));const i={sidebar_position:5},o="Methods & Helpers",s={unversionedId:"sesami-sdk/methods-and-helpers",id:"sesami-sdk/methods-and-helpers",title:"Methods & Helpers",description:"Methods",source:"@site/docs/3-sesami-sdk/5-methods-and-helpers.md",sourceDirName:"3-sesami-sdk",slug:"/sesami-sdk/methods-and-helpers",permalink:"/docs/sesami-sdk/methods-and-helpers",draft:!1,editUrl:"https://github.com/sesamiapp/devportal/edit/master/docs/3-sesami-sdk/5-methods-and-helpers.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Options",permalink:"/docs/sesami-sdk/options"},next:{title:"Rate Limit",permalink:"/docs/sesami-sdk/rate-limit"}},l={},m=[{value:"Methods",id:"methods",level:2},{value:"Initialization",id:"initialization",level:3},{value:"Date &amp; Range Management",id:"date--range-management",level:3},{value:"Adjustment",id:"adjustment",level:3},{value:"Availabilities",id:"availabilities",level:3},{value:"Slot Management",id:"slot-management",level:3},{value:"<strong>Example</strong>",id:"example",level:4},{value:"getConfig()",id:"getconfig",level:3},{value:"<strong>Returns:</strong>",id:"returns",level:4},{value:"Helpers",id:"helpers",level:2},{value:"formatDate(date, options)",id:"formatdatedate-options",level:3},{value:"getSesamiFields(slot)",id:"getsesamifieldsslot",level:3}],p={toc:m},d="wrapper";function g(e){let{components:a,...n}=e;return(0,r.yg)(d,(0,t.A)({},p,n,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"methods--helpers"},"Methods & Helpers"),(0,r.yg)("h2",{id:"methods"},"Methods"),(0,r.yg)("p",null,"The Sesami SDK offers various methods to render a calendar and manage availabilities."),(0,r.yg)("h3",{id:"initialization"},"Initialization"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"strong"},"init()")),(0,r.yg)("br",{parentName:"li"}),"Initializes the SDK instance. Automatically fetches availabilities for the current month if ",(0,r.yg)("a",{parentName:"li",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"autoLoad"))," is enabled.")),(0,r.yg)("h3",{id:"date--range-management"},"Date & Range Management"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"setDate(date: Date)")),(0,r.yg)("br",{parentName:"p"}),"\n","Updates the current date ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"now"))," and fetches availabilities if they haven't been fetched yet (when ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"autoLoad"))," is enabled).")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},'next(duration: "year" | "month" | "week" | "day")')),(0,r.yg)("br",{parentName:"p"}),"\n","Moves to the next year, month, week, or day and updates ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"now")),". Automatically fetches availabilities if needed and ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"autoLoad"))," is enabled.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},'previous(duration: "year" | "month" | "week" | "day")')),(0,r.yg)("br",{parentName:"p"}),"\n","Moves to the previous year, month, week, or day and updates ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"now")),". Automatically fetches availabilities if needed and ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"autoLoad"))," is enabled."))),(0,r.yg)("h3",{id:"adjustment"},"Adjustment"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"setVariantId(variantId: string)")),(0,r.yg)("br",{parentName:"p"}),"\n","Updates the current value for ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"variantId"))," and fetches availabilities if ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"autoLoad"))," is enabled.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"setTeamMember(teamMember: string)")),(0,r.yg)("br",{parentName:"p"}),"\n","Updates the current value for ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"teamMember"))," and fetches availabilities if ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"autoLoad"))," is enabled."))),(0,r.yg)("h3",{id:"availabilities"},"Availabilities"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"strong"},"load()")),(0,r.yg)("br",{parentName:"li"}),"Manually loads availabilities for the selected range. Use this when ",(0,r.yg)("a",{parentName:"li",href:"/docs/sesami-sdk/options/"},(0,r.yg)("inlineCode",{parentName:"a"},"autoLoad"))," is disabled (This method will only trigger a network request if the data is not already available).")),(0,r.yg)("h3",{id:"slot-management"},"Slot Management"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"reserve(slot: SesamiSlotObject)")),(0,r.yg)("br",{parentName:"p"}),"\n","Temporarily reserves a slot for the period defined in Sesami app settings. Returns a promise resolving to the reservation status.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"book(slot: SesamiSlotObject, customer: SesamiCustomerObject, options?: SesamiOptionsObject)")),(0,r.yg)("br",{parentName:"p"}),"\n","Instantly book a slot for a customer. Returns a promise resolving to the booking status."))),(0,r.yg)("h4",{id:"example"},(0,r.yg)("strong",{parentName:"h4"},"Example")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"let customer = {\n  firstName: 'John',\n  lastName: 'Connor',\n  phone: '+12223333333',\n  email: 'john@connor.com'\n}\n\nlet options = {\n  properties: [\n    { name: 'age', value: '20' },\n    { name: 'agree_with_terms', value: 'yes' }\n  ]\n}\n\nwindow.sesami\n  .book(slot, customer, options)\n  .then(() => console.log('Booked'))\n  .catch(e => console.error(e))\n")),(0,r.yg)("h3",{id:"getconfig"},"getConfig()"),(0,r.yg)("p",null,"Retrieves the service configuration, including details about the service, team members, shop, and more."),(0,r.yg)("h4",{id:"returns"},(0,r.yg)("strong",{parentName:"h4"},"Returns:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Shop Details"),": Shop name, base URL, etc."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Service Details"),": Title, product image, customer management options, etc."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Locations"),": Available locations and resources for the service."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Instant Booking Status"),": Whether instant booking is enabled and required fields."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Date/Time Format"),": Customizable date and time formatting."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Extensions"),": List of installed apps extensions."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Locale and Translations"),": Localized strings for the storefront."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Features"),": Shop features based on plan and other settings.")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json",metastring:'title="Config Response Example"',title:'"Config',Response:!0,'Example"':!0},'{\n  "title": "Cat Massage",\n  "shop": "cat-massage.myshopify.com",\n  "shopId": "73ej83874241b002709b8db",\n  "calendarExperience": "CLASSIC",\n  "product": {\n    "id": "644c0db76u3a2ff85c9088fad",\n    "image": "https://sesami-pos.myshopify.com/cdn/shop/files/Cats-Massaging.jpg",\n    "location": null,\n    "customerCanCancel": true,\n    "customerCanReschedule": true,\n    "customerCanManageBefore": null,\n    "groupAppointment": 3,\n    "flexStartInterval": null\n  },\n  "timeFormat": "12",\n  "dateFormat": "dd NN yyyy hh:mm",\n  "hideTimezone": true,\n  "reservation": 15,\n  "instantBooking": {\n    "enabled": true,\n    "requiredFields": [\n      "firstName",\n      "lastName",\n      "email",\n      "phone"\n    ]\n  },\n  "locale": "en",\n  "translations": {\n    "you_can_action_until_the_appointment_starts": "You can {action} until the appointment starts.",\n    "number_left": "{number} left",\n    "select": "Select",\n    "close": "Close",\n    "back": "Back",\n    "previous": "Previous",\n    "book": "Book",\n    "review_and_book": "Review & Book",\n    "duration": "Duration",\n    "min": "min",\n    "today": "Today",\n    "important": "important",\n    "select_a_team_member": "Select a team member",\n    "your_timezone_is": "Your timezone is",\n    "any_available": "Any Available",\n    "book_with_maximum_availability": "Book with maximum availability",\n    "please_select_date_and_time": "Please select date and time",\n    "confirm": "Confirm",\n    "loading": "Loading...",\n    "no_available_slots": "No available slots",\n    "date": "Date",\n    "time": "Time",\n    "timezone": "Timezone",\n    "team_member": "Team Member",\n    "brand_text": "We book with {sesami}",\n    "return": "Return",\n    "reschedule": "Reschedule",\n    "rescheduled": "Rescheduled",\n    "cancel": "Cancel",\n    "greeting": "Hi {name}!",\n    "click_here": "Click here",\n    "all": "All",\n    "next": "Next",\n    "location": "Location"\n  },\n  "locations": [\n    {\n      "id": "67a5402b1297947834b02ff0",\n      "name": "Paris",\n      "image": {\n        "id": "default",\n        "url": null\n      },\n      "description": "",\n      "resourceGroups": [\n        {\n          "hideAnyAvailable": false,\n          "resources": [\n            {\n              "name": "Ehsan",\n              "id": "646fea87b3e0a998a17dc047",\n              "image": {\n                "id": "default",\n                "url": "https://app.sesami.co/static/default_avatar.png"\n              },\n              "type": "Team Member"\n            },\n            {\n              "name": "Alex",\n              "id": "65cb1fc98ccab3356ea492dc",\n              "image": {\n                "id": "default",\n                "url": "https://app.sesami.co/static/default_avatar.png"\n              },\n              "type": "Team Member"\n            }\n          ]\n        },\n        {\n          "hideAnyAvailable": true,\n          "resources": [\n            {\n              "name": "Room 1",\n              "id": "666abc785590b39decacb1d9",\n              "image": {\n                "id": "67b6dec4745b3370e6535bb1",\n                "url": null\n              },\n              "type": "Room"\n            },\n            {\n              "name": "Room 2",\n              "id": "67b59a6245aa681b2893d274",\n              "image": {\n                "id": "default",\n                "url": null\n              },\n              "type": "Room"\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  "defaultResourceAvatar": "https://app.sesami.co/static/default_avatar.png",\n  "storefrontStartDate": null,\n  "storefrontButtonLabel": "Select Time",\n  "baseURL": "https://app.sesami.co",\n  "sesamiBrand": "<span>We book with <a target=\'_blank\' href=\'https://sesami.co\'><img alt=\'Sesami icon\' src=\'https://app.sesami.co/static/icon.png\' width=\'16\'/> Sesami</a></span>",\n  "removeBranding": false,\n  "extensions": [\n    {\n      "_id": "673489f69cf7e3fb4aedbca0",\n      "name": "Form loader",\n      "url": "https://formsapp.sesami.co/experience/formLoader",\n      "target": "EXPERIENCE_INSTANT_BOOKING_FORM",\n      "isAdmin": false,\n      "appId": "66b4712057bc573a3a98bb5c",\n      "appName": "sesami-forms-app"\n    },\n    {\n      "_id": "6739df8c6ce9a73e1e8d64c8",\n      "name": "Confirmation page",\n      "url": "https://formsapp.sesami.co/experience/confirmation",\n      "target": "EXPERIENCE_CONFIRMATION_PAGE",\n      "isAdmin": false,\n      "appId": "66b4712057bc573a3a98bb5c",\n      "appName": "sesami-forms-app"\n    }\n  ],\n  "features": {\n    "CALENDAR_SYNC": true,\n    "REMOVE_BRANDING": true,\n    "SERVICE_HOURS": false,\n    "APPOINTMENT_MANAGEMENT": true,\n    "GROUP_APPOINTMENTS": true,\n    "APPOINTMENT_REPORT": true,\n    "RESERVATION": true,\n    "STOREFRONT_SDK": true,\n    "FLOWS": true,\n    "INSTANT_BOOKING": true,\n    "STOREFRONT_CALENDAR_V2": true,\n    "EXPERIENCE_SELECTOR": true,\n    "STOREFRONT_FULL_EXPERIENCE": true,\n    "MULTI_LOCATION": true\n  }\n}\n')),(0,r.yg)("h2",{id:"helpers"},"Helpers"),(0,r.yg)("h3",{id:"formatdatedate-options"},"formatDate(date, options)"),(0,r.yg)("p",null,"Formats a ",(0,r.yg)("inlineCode",{parentName:"p"},"Date")," object based on the user's preferred locale using the ",(0,r.yg)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat"},(0,r.yg)("inlineCode",{parentName:"a"},"Intl.DateTimeFormat"))," API. This method simplifies the process of creating localized date strings."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"th"},"Argument")),(0,r.yg)("th",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"th"},"Type")),(0,r.yg)("th",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"th"},"Description")))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"date")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Date")),(0,r.yg)("td",{parentName:"tr",align:null},"The date to format.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"options")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"An object specifying date formatting options. See ",(0,r.yg)("a",{parentName:"td",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat"},"Intl.DateTimeFormat options")," for more details.")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example Usage:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},'sesami.formatDate(new Date("2022-07-07"), { month: "short", year: "numeric" });\n// Output: "Jul 2022" (depending on the locale)\n')),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"getsesamifieldsslot"},"getSesamiFields(slot)"),(0,r.yg)("p",null,"Generates a set of hidden input fields for use in a Shopify storefront. These fields are typically added as ",(0,r.yg)("a",{parentName:"p",href:"https://shopify.dev/api/liquid/objects/line_item#line_item-properties"},"line item properties")," when adding a product to the cart, ensuring that the selected time slot is linked to the product."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"th"},"Argument")),(0,r.yg)("th",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"th"},"Type")),(0,r.yg)("th",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"th"},"Description")))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"slot")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("a",{parentName:"td",href:"/docs/sesami-sdk/rendering-a-calendar/#sesamislotobject"},"SesamiSlotObject")),(0,r.yg)("td",{parentName:"tr",align:null},"The slot object returned from the ",(0,r.yg)("inlineCode",{parentName:"td"},"getAvailabilities")," method.")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Usage in Storefront Integration:"),(0,r.yg)("br",{parentName:"p"}),"\n","To learn more about these fields, see the ",(0,r.yg)("a",{parentName:"p",href:"/docs/sesami-experience/quick-start/#sesami-hidden-fields"},"hidden fields")," section of the Sesami Experience documentation."))}g.isMDXComponent=!0}}]);