"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9869],{5680:(e,a,t)=>{t.d(a,{xA:()=>s,yg:()=>c});var n=t(6540);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function d(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=n.createContext({}),g=function(e){var a=n.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},s=function(e){var a=g(e.components);return n.createElement(o.Provider,{value:a},e.children)},y="mdxType",m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},p=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),y=g(t),p=r,c=y["".concat(o,".").concat(p)]||y[p]||m[p]||l;return t?n.createElement(c,i(i({ref:a},s),{},{components:t})):n.createElement(c,i({ref:a},s))}));function c(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=p;var d={};for(var o in a)hasOwnProperty.call(a,o)&&(d[o]=a[o]);d.originalType=e,d[y]="string"==typeof e?e:r,i[1]=d;for(var g=2;g<l;g++)i[g]=t[g];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}p.displayName="MDXCreateElement"},556:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>d,toc:()=>g});var n=t(8168),r=(t(6540),t(5680));const l={sidebar_position:2},i="Rendering a Calendar",d={unversionedId:"sesami-sdk/rendering-a-calendar",id:"sesami-sdk/rendering-a-calendar",title:"Rendering a Calendar",description:"Rendering Rows and Columns",source:"@site/docs/3-sesami-sdk/2-rendering-a-calendar.md",sourceDirName:"3-sesami-sdk",slug:"/sesami-sdk/rendering-a-calendar",permalink:"/docs/sesami-sdk/rendering-a-calendar",draft:!1,editUrl:"https://github.com/sesamiapp/devportal/edit/master/docs/3-sesami-sdk/2-rendering-a-calendar.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Quick Start",permalink:"/docs/sesami-sdk/quick-start"},next:{title:"Booking & Reservation",permalink:"/docs/sesami-sdk/booking-and-reservation"}},o={},g=[{value:"Rendering Rows and Columns",id:"rendering-rows-and-columns",level:2},{value:"Data",id:"data",level:3},{value:"SesamiDayObject",id:"sesamidayobject",level:3},{value:"Getting Availabilities",id:"getting-availabilities",level:2},{value:"SesamiSlotObject",id:"sesamislotobject",level:3},{value:"Example",id:"example",level:4}],s={toc:g},y="wrapper";function m(e){let{components:a,...t}=e;return(0,r.yg)(y,(0,n.A)({},s,t,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"rendering-a-calendar"},"Rendering a Calendar"),(0,r.yg)("h2",{id:"rendering-rows-and-columns"},"Rendering Rows and Columns"),(0,r.yg)("h3",{id:"data"},"Data"),(0,r.yg)("p",null,"Each instance of the Sesami SDK will contain a ",(0,r.yg)("inlineCode",{parentName:"p"},"data")," object with the following structure:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Property"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"labels")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Array<Date>")),(0,r.yg)("td",{parentName:"tr",align:null},"An array of ",(0,r.yg)("inlineCode",{parentName:"td"},"Date")," objects.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"rows")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Array<Array<SesamiDayObject>>")),(0,r.yg)("td",{parentName:"tr",align:null},"A 2D array containing ",(0,r.yg)("inlineCode",{parentName:"td"},"SesamiDayObject")," arrays.")))),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"type Data = {\n  labels: Date[]\n  rows: SesamiDayObject[][]\n}\n")),(0,r.yg)("h3",{id:"sesamidayobject"},"SesamiDayObject"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Property"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"date")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Date")),(0,r.yg)("td",{parentName:"tr",align:null},"Represents the day.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"isCurrentMonth")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Boolean")),(0,r.yg)("td",{parentName:"tr",align:null},"Indicates if the day is in the current month.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"isCurrentWeek")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Boolean")),(0,r.yg)("td",{parentName:"tr",align:null},"Indicates if the day is in the current week.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"isPast")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Boolean")),(0,r.yg)("td",{parentName:"tr",align:null},"Indicates if the day is in the past.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"isToday")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Boolean")),(0,r.yg)("td",{parentName:"tr",align:null},"Indicates if the day is today.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"getAvailabilities()")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"async function")),(0,r.yg)("td",{parentName:"tr",align:null},"Resolves to an array of available slots (",(0,r.yg)("inlineCode",{parentName:"td"},"Promise<Array<SesamiSlotObject>>"),").")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"onLoad(callback)")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Function")),(0,r.yg)("td",{parentName:"tr",align:null},"Receives cell availabilities for the selected range when ",(0,r.yg)("inlineCode",{parentName:"td"},"autoLoad")," is enabled. (This method will only trigger a network request when the data is not already available).")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"onError(callback)")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Function")),(0,r.yg)("td",{parentName:"tr",align:null},"Receives errors when fetching cell availabilities.")))),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="SesamiDayObject"',title:'"SesamiDayObject"'},"{\n  labels: [\n    Sun Dec 05 2021 00:00:00 {},\n    Mon Nov 29 2021 00:00:00 {},\n    ...\n  ],\n  rows: [\n    [\n      {\n        date: Sun Nov 28 2021 00:00:00 {},\n        isCurrentMonth: false,\n        isCurrentWeek: false,\n        isPast: true,\n        isToday: false,\n        getAvailabilities: async \u0192 (),\n        onLoad: \u0192 (callback: \u0192 ()),\n        onError: \u0192 (callback: \u0192 ())\n      },\n      ...\n    ]\n    ...\n  ]\n}\n")),(0,r.yg)("p",null,"Example to display the calendar labels:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const dayName = (date) => new Intl.DateTimeFormat('en-US', { weekday: 'short' }).format(date)\n\nwindow.sesami.data.labels.forEach(dateString => {\n  calendarLabels.innerHTML += `<li>${dayName(new Date(dateString))}</li>`\n})\n")),(0,r.yg)("p",null,"Example to display the calendar rows:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"window.sesami.data.rows.forEach(row => {\n\n  row.forEach(async day => {\n    const className = day.isPast ? 'inactive' : 'active'\n    const dayElement = document.createElement('li')\n    dayElement.className = className\n    dayElement.textContent = new Date(day.date).getDate()\n    days.appendChild(dayElement)\n\n    try{\n      const availabilities = await day.getAvailabilities()\n      console.log(`Availabilities for ${day.date}:`, availabilities)\n    }catch(error){\n      console.error(`Error fetching availabilities for ${day.date}:`, error)\n    }\n\n    dayElement.addEventListener('click', () => {\n      if(!day.isPast){\n        selectDay(day)\n      }\n    })\n\n  })\n\n})\n")),(0,r.yg)("h2",{id:"getting-availabilities"},"Getting Availabilities"),(0,r.yg)("p",null,"Each day object contains a ",(0,r.yg)("inlineCode",{parentName:"p"},"getAvailabilities()")," method, which returns available slots."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"type getAvailabilities = () => SesamiSlotObject[]\n")),(0,r.yg)("h3",{id:"sesamislotobject"},"SesamiSlotObject"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Property"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"startTime")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"String")),(0,r.yg)("td",{parentName:"tr",align:null},"Starting date and time in the format ",(0,r.yg)("inlineCode",{parentName:"td"},"YYYY-MM-DD HH:mm"),".")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"duration")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Number")),(0,r.yg)("td",{parentName:"tr",align:null},"Slot duration in minutes.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"status")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"String")),(0,r.yg)("td",{parentName:"tr",align:null},"Current slot status (",(0,r.yg)("inlineCode",{parentName:"td"},'"available"')," for storefront integrations).")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"remainingSlots")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Number")),(0,r.yg)("td",{parentName:"tr",align:null},"Remaining slots at the selected time (always ",(0,r.yg)("inlineCode",{parentName:"td"},"1")," except for group appointments).")))),(0,r.yg)("h4",{id:"example"},"Example"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "startTime": "2022-12-30 10:00",\n    "duration": 15,\n    "status": "available",\n    "remainingSlots": 1\n  },\n  {\n    "startTime": "2022-12-30 10:15",\n    "duration": 15,\n    "status": "available",\n    "remainingSlots": 3\n  },\n  ...\n]\n')))}m.isMDXComponent=!0}}]);