(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{92:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return d})),n.d(t,"default",(function(){return p}));var a=n(3),i=n(7),o=(n(0),n(107)),r={sidebar_position:1},s={unversionedId:"storefront-integration/anatomy-of-sesami-button",id:"storefront-integration/anatomy-of-sesami-button",isDocsHomePage:!1,title:"Anatomy of Sesami button",description:"At its simplest form, you'll need an empty div element with id attribute set to sesami__buttonWrapper for Sesami to render the button and the hidden fields:",source:"@site/docs/storefront-integration/anatomy-of-sesami-button.md",sourceDirName:"storefront-integration",slug:"/storefront-integration/anatomy-of-sesami-button",permalink:"/devportal/docs/storefront-integration/anatomy-of-sesami-button",editUrl:"https://github.com/sesamiapp/devportal/edit/master/docs/storefront-integration/anatomy-of-sesami-button.md",version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Intro",permalink:"/devportal/docs/intro"},next:{title:"Styling",permalink:"/devportal/docs/storefront-integration/styling"}},d=[{value:"Options",id:"options",children:[{value:"locale",id:"locale",children:[]},{value:"button-label",id:"button-label",children:[]},{value:"product-id",id:"product-id",children:[]},{value:"variant-id",id:"variant-id",children:[]},{value:"shop-id",id:"shop-id",children:[]},{value:"quantity",id:"quantity",children:[]}]},{value:"Events",id:"events",children:[{value:"sesami:loaded",id:"sesamiloaded",children:[]},{value:"change",id:"change",children:[]}]}],l={toc:d};function p(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"At its simplest form, you'll need an empty ",Object(o.b)("inlineCode",{parentName:"p"},"div")," element with ",Object(o.b)("inlineCode",{parentName:"p"},"id")," attribute set to ",Object(o.b)("inlineCode",{parentName:"p"},"sesami__buttonWrapper")," for Sesami to render the button and the hidden fields:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html",metastring:'title="product-template.liquid"',title:'"product-template.liquid"'},'<div\n  id="sesami__buttonWrapper"\n>\n</div>\n')),Object(o.b)("h4",{id:"rendered-result"},"Rendered result"),Object(o.b)("p",null,"This is a final rendered markup that Sesami creates to capture booking information:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html"},'<div id="sesami__buttonWrapper">\n\x3c!--- Anything inside this div is generated automatically ---\x3e\n    <input type="hidden" id="sesami-date-0" name="properties[Date]" value="">\n    <input type="hidden" id="sesami-time-0" name="properties[Time]" value="">\n    <input type="hidden" id="sesami-timezone-0" name="properties[Timezone]" value="">\n    <input type="hidden" id="sesami-teammember-0" name="properties[Team Member]" value="">\n    <input type="hidden" id="sesami-remainingslots-0" name="sesami-remainingslots" value="">\n    <button class="sesami__button" type="button">\n        Select Date &amp; Time\n    </button>\n</div>\n')),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"The above markup will only be generated if the current product is a Sesami service, otherwise, it will do nothing and your other products won't be affected in any way."))),Object(o.b)("h2",{id:"options"},"Options"),Object(o.b)("p",null,"Sesami button can be customized in many ways, this is mostly done by passing options to the wrapper element:"),Object(o.b)("h3",{id:"locale"},"locale"),Object(o.b)("p",null,"Sometimes you might need Sesami calendar to be displayed in a different language than what is set as your primary language. This is mostly useful if you have a multi-lingual store:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html",metastring:"{3}","{3}":!0},'<div\n  id="sesami__buttonWrapper"\n  data-sesami-locale="fr"\n>\n</div>\n')),Object(o.b)("h3",{id:"button-label"},"button-label"),Object(o.b)("p",null,"You can display any label on the button, this is useful if you'd like to conditionally render different labels based on product or context. If this option is not provided, it will display what is set on the settings page in Sesami app."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html",metastring:"{3}","{3}":!0},'<div\n  id="sesami__buttonWrapper"\n  data-sesami-button-label="Book now!"\n>\n</div>\n')),Object(o.b)("h3",{id:"product-id"},"product-id"),Object(o.b)("p",null,"If you want to render a button on a page different from product page, you'll need to tell Sesami for which product you are rendering a button. Depending on your implementation, if you are rendering the button outside a product form or if a variant input is not present on the form, you might need to add a ",Object(o.b)("a",{parentName:"p",href:"#variant-id"},"variant-id")," as well"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html",metastring:"{3}","{3}":!0},'<div\n  id="sesami__buttonWrapper"\n  data-sesami-product-id="192379823740"\n>\n</div>\n')),Object(o.b)("h3",{id:"variant-id"},"variant-id"),Object(o.b)("p",null,"If you want to render a button on a page different from product page, you'll need to tell Sesami for which variant you are rendering a button. You always need to specify the ",Object(o.b)("a",{parentName:"p",href:"#product-id"},"product-id")," when using this option"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html",metastring:"{3}","{3}":!0},'<div\n  id="sesami__buttonWrapper"\n  data-sesami-product-id="192379823740"\n  data-sesami-variant-id="379823740343"\n>\n</div>\n')),Object(o.b)("h3",{id:"shop-id"},"shop-id"),Object(o.b)("p",null,"If you want to integrate Sesami in an external page or website, you'll need to tell Sesami for which store you want to display the button, this is done by providing the ",Object(o.b)("inlineCode",{parentName:"p"},"shop-id")," option:"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Both ",Object(o.b)("a",{parentName:"strong",href:"#variant-id"},"variant-id")," and ",Object(o.b)("a",{parentName:"strong",href:"#product-id"},"product-id")," are required when using this option.")),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Where can I find my shop ID?")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"Each store has it's own shop id which can be fetched by visiting this address after replacing ",Object(o.b)("inlineCode",{parentName:"p"},"STORE")," with your store address: ",Object(o.b)("a",{parentName:"p",href:"http://STORE.myshopify.com/admin/shop.json"},"http://STORE.myshopify.com/admin/shop.json")))),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html",metastring:"{3}","{3}":!0},'<div\n  id="sesami__buttonWrapper"\n  data-sesami-shop-id="0000000000"\n  data-sesami-product-id="192379823740"\n  data-sesami-variant-id="379823740343"\n>\n</div>\n')),Object(o.b)("p",null,"If you need to load Sesami on an external page (like a Wordpress website), you'll need to add this line of code to your page:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html"},'<script async src="https://cdn.sesami.co/shopify.js"><\/script>\n')),Object(o.b)("h3",{id:"quantity"},"quantity"),Object(o.b)("p",null,"If you don't want to display a quantity selector within your product form, and you need a pre-selected quantity value you can set this option. defaults to ",Object(o.b)("strong",{parentName:"p"},"1")," in other cases"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html",metastring:"{3}","{3}":!0},'<div\n  id="sesami__buttonWrapper"\n  data-sesami-quantity="1"\n>\n</div>\n')),Object(o.b)("h2",{id:"events"},"Events"),Object(o.b)("p",null,"Sesami fires events to help you handle different scenarios in your booking flow, You can listen for these events to trigger different actions when a cusomer selects a time slot or when Sesami is loaded and initialized on your page."),Object(o.b)("h3",{id:"sesamiloaded"},"sesami:loaded"),Object(o.b)("p",null,"Sesami resources are loaded in async mode so they do not block your other resources, depending on network conditions and the size of other resources, it can take some time until Sesami is fully loaded on a page. This event will let you know when Sesami is ready to accept bookings."),Object(o.b)("p",null,"This is an example that show how you can listen for this event and trigger an action based on it:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html",metastring:'title="Example" {5}',title:'"Example"',"{5}":!0},"<script>\n/// Disable add to cart button\n/// Display a loading spinner\n(function(){\n    window.addEventListener('sesami:loaded', function(){\n      /// Remove loading spinner\n      /// Enable add to cart button\n    })\n})()\n<\/script>\n")),Object(o.b)("h3",{id:"change"},"change"),Object(o.b)("p",null,"A regular ",Object(o.b)("inlineCode",{parentName:"p"},"change")," event will be fired on respective hidden inputs displayed on ",Object(o.b)("a",{parentName:"p",href:"#rendered-result"},"Rendered result")," section whenever a user selects a new time slot or changes the selected team member or timezone."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Example:")," Listen for ",Object(o.b)("a",{parentName:"p",href:"#sesamiloaded"},"sesami:loaded")," event and once inputs are rendered, listen for change event on the ",Object(o.b)("inlineCode",{parentName:"p"},"Date")," input and programmatically create an order without customers having to click on add to cart button:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-html",metastring:'title="Example" {6}',title:'"Example"',"{6}":!0},"<script>\n(function(){\n    window.addEventListener('sesami:loaded', function(){\n      var formElement = document.querySelector(\"#form\")\n      var sesamiDateInput = formElement.querySelector(\"[name='properties[Date]']\")\n      sesamiDateInput.addEventListener('change', function(){\n        const FD = new FormData( formElement )\n        createOrder(FD)\n      })\n    })\n})()\n<\/script>\n")))}p.isMDXComponent=!0}}]);