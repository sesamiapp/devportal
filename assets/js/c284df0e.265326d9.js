"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2299],{5680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>u});var a=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=l(n),h=r,u=m["".concat(p,".").concat(h)]||m[h]||d[h]||i;return n?a.createElement(u,s(s({ref:t},c),{},{components:n})):a.createElement(u,s({ref:t},c))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=h;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[m]="string"==typeof e?e:r,s[1]=o;for(var l=2;l<i;l++)s[l]=n[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},428:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=n(8168),r=(n(6540),n(5680));const i={sidebar_position:2},s="Inside an iframe",o={unversionedId:"sesami-apps/how-it-works/inside-an-iframe",id:"sesami-apps/how-it-works/inside-an-iframe",title:"Inside an iframe",description:"The Sesami app will be loaded inside an iframe. This will isolate the app and its host and will block the app from accessing the merchant's Admin Portal or customer's Experience.",source:"@site/docs/5-sesami-apps/3-how-it-works/2-inside-an-iframe.md",sourceDirName:"5-sesami-apps/3-how-it-works",slug:"/sesami-apps/how-it-works/inside-an-iframe",permalink:"/docs/sesami-apps/how-it-works/inside-an-iframe",draft:!1,editUrl:"https://github.com/sesamiapp/devportal/edit/master/docs/5-sesami-apps/3-how-it-works/2-inside-an-iframe.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"App Targets",permalink:"/docs/sesami-apps/how-it-works/app-targets"},next:{title:"Permissions",permalink:"/docs/sesami-apps/how-it-works/permissions"}},p={},l=[{value:"App Message",id:"app-message",level:3},{value:"Context from URL",id:"context-from-url",level:3}],c={toc:l},m="wrapper";function d(e){let{components:t,...i}=e;return(0,r.yg)(m,(0,a.A)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"inside-an-iframe"},"Inside an iframe"),(0,r.yg)("p",null,"The Sesami app will be loaded inside an ",(0,r.yg)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"},"iframe"),". This will isolate the app and its host and will block the app from accessing the merchant's Admin Portal or customer's Experience."),(0,r.yg)("h3",{id:"app-message"},"App Message"),(0,r.yg)("p",null,"That said, the app needs some information about the environment that is loading, for example, in the Experience, it may need to know the shop ID, product ID, selected slot, etc."),(0,r.yg)("p",null,"Also, the app wants to know about certain events, such as moving to the next step or sending an event to its host."),(0,r.yg)("p",null,"All these requirements can be met using the ",(0,r.yg)("a",{href:"https://www.npmjs.com/package/@sesamiapp/app-message"},(0,r.yg)("b",null,"App Message Library")),"."),(0,r.yg)("p",null,"App Message is a Typescript library published on NPM to give the app developers sets of tools to communicate easily with their hosts such as Sesami Admin Portal or Sesami Experience."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"App Message",src:n(9238).A,width:"1039",height:"679"})),(0,r.yg)("h3",{id:"context-from-url"},"Context from URL"),(0,r.yg)("p",null,"Also, when the host is loading the app, it will attach the necessary context for it to its URL, like the target that is loading in, the shop URL, or the authentication token."),(0,r.yg)("p",null,"Something like this:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-markup"},"https://myapp.com/extension?shopId=3746gf34fg&locale=en-US&productId=8273gr0328rfh23\n")),(0,r.yg)("p",null,"This approach has two benefits:"),(0,r.yg)("p",null,"1- The app can receive the needed information at its backend, so it can do actions even before its frontend is loaded, like fetching data from an external API, doing some heavy calculations, or applying SSR."),(0,r.yg)("p",null,"2- Imaging an app that does not want/needs to implement a frontend, for example, an app that just wants to collect data in different targets for analytics. In this way, it can just use the information inside the URL and does not render anything for its frontend."))}d.isMDXComponent=!0},9238:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/app-message-sample-e6a80543ca09bb8a9942e1693559a13b.png"}}]);